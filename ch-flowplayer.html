<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../polymer/polymer.html">
<
<link rel="import" href="player.html">

<dom-module id="ch-flowplayer">


    <template>

            <div id="hlsvideo" style="background-color: #2f2f4f; background-image: url('{{imageurl}}');">

            </div>

    </template>
</dom-module>


    <script>

        Polymer({
            is:'ch-flowplayer',
            properties:{
                video:{
                    type:String,
                    value:'01_01-Welcome/welcome.m3u8'
                },
                streamapi:{
                    type:String,
                    value: ""
                },
                imageurl:{
                    type: String,
                    value:'//drive.cdn.flowplayer.org/202777/84049-snap.jpg'
                }
            },

            attached:function () {

                var node=this.$.hlsvideo;

                flowplayer(node, {
                    splash: true,
                    embed: false, // setup would need iframe embedding
                    ratio: 9/16,

                    hlsQualities: [0,1,2,3],

                    clip: {
                        sources: [
                            { type: "application/x-mpegurl",
                                src:  this.streamapi+this.video
                            }
                        ]
                    }

                });

                this.updateStyles();
            }
        });

    </script>


