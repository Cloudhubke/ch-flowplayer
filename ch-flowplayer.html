<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../polymer/polymer.html">

<dom-module id="ch-flowplayer">
    <style>
        a.rtmp {
            display: block;
            width: 720px;
            height: 480px;
            margin: 25px 0;
            text-align: center;
            background-color: black;
        }
    </style>
    <script src="flowplayer/flowplayer-3.2.13.min.js"></script>
    <template>
        <a class="rtmp" href="mp4:{{video}}"/>
    </template>


    <script>

        Polymer({
            is:'ch-flowplayer',
            properties:{
                video:{
                    type:String,
                    value:'big-buck-bunny.mp4'
                }
            },

            attached:function () {
                $f("a.rtmp", "../bower_components/ch-flowplayer/flowplayer/flowplayer-3.2.18.swf", {
                    clip: {
                        provider: 'rtmp'
                    },
                    plugins: {
                        rtmp: {
                            url: '../bower_components/ch-flowplayer/flowplayer/flowplayer.rtmp-3.2.13.swf',
                            netConnectionUrl: 'rtmp://s1y5zd93uqv0ml.cloudfront.net/cfx/st'
                        }
                    }
                });

            }
        });
    </script>

</dom-module>